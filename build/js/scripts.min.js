$(function(){"use strict";var a="",e=$(".insta-photos"),i="",s="",n="",o=function(e){a+='<li class="photo-wrapper">',a+="<a href="+e.link+' target="_blank"><img src='+e.images.standard_resolution.url+"></a>",a+='<div class="meta-wrapper">',a+='<div class="usr-img"><img src='+e.user.profile_picture+"></div>",a+='<div class="usr-meta">',a+='<div class="usr-name">'+e.user.username+"</div>",a+='<div class="usr-comms-likes"><i class="fa fa-comments"></i> '+e.comments.count+' <i class="fa fa-heart"></i> '+e.likes.count+"</div>",a+="</div><!--end usr-meta--></div><!--end meta-wrapper-->",a+="</li>"},t=function(){e.empty(),a+='<li class="photo-wrapper">Something went wrong, please search again.</li>',e.append(a),a="",$(".loading-gif").css("display","none"),$(".load-more").css("display","none")};$("#button").on("click",function(l){l.preventDefault(),$(".loading-gif").css("display","block"),i=$(".search-box").val(),s=i.toLowerCase().replace(" ",""),$.ajax({dataType:"jsonp",method:"GET",url:"https://api.instagram.com/v1/tags/"+s+"/media/recent?count=12&client_id=b8586475183a4ad89a5a0ebd4a36fbc2"}).done(function(i){e.empty(),n=i.pagination.next_url,0===i.data.length?(e.append('<div class="photo-wrapper"><li>No images found. Please search again.</li></div>'),$(".load-more").css("display","none")):($.each(i.data,function(a,e){o(e)}),$(".load-more").css("display","block")),e.append(a),$(".loading-gif").css("display","none"),$(".header").addClass("header-position"),$(".header-inner-wrap").css("margin","2rem 0"),$(".photo-grid").fadeIn(1e3),a=""}).fail(t)}),$(".load-more").on("click",function(i){$(".loading-gif").css("display","block"),i.preventDefault(),$.ajax({dataType:"jsonp",method:"GET",url:n}).done(function(i){n=i.pagination.next_url,$.each(i.data,function(a,e){o(e)}),e.append(a),$(".loading-gif").css("display","none"),a=""}).fail(t)})});